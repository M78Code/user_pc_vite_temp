


进入页面===》
计算最优域名:{
   CASE A: URL 参数完整 ，设置最优域名==》 获取到用户信息 ===》初始化用户信息类
   CASE B：URL 参数不足 ，获取OSS==》域名排序==》获取到用户信息 ===》初始化用户信息类
}
===》施放视图，显示需要显示的路由组件：以下流程只管主列表

===》请求元数据接口
===》初始化 菜单数据  各个菜单和列表 队列 对应关系

   流程块 A1  { 
    ===》 根据当前菜单 从元数据内 读取 当前列表队列
    ===》 计算列表基础表征：
    ===》 循环队列（因为没有赔率数据） 
    ===》 根据所在菜单 ==》计算每个赛事显示模板==》计算每个赛事的默认表征，以及列表的数据映射关系
    ===》 累加得出列表高度
    ===》 循环列表的数据映射关系 显示视图基本框架 
          ==>{
                  ==》列表数据映射
                  ==》卡片表征
                       ==》 显示卡片
                            ==》赛事的使用模板显示 ，使用数据填坑（也就是哪怕只有一个赛事id 无其他信息，这时候也能显示视图，只是内容全空）

                 }
          ===》刚刚进页面无赔率：注意此时还没有赔率 ，没有用到数据仓库
               这时候把 数据转出一个列表 [{mid:1},{mid:1},{mid:1},{mid:1}]
               调用 数据仓库 方法 拆解赔率玩法对象 ：这个时候只是赔率玩法都是空   
          ===》赔率数据之前有初始化过 ，用到了数据仓库 ，这时候数据仓库有数据 （星号 1）
      
    ===》 视图显示后，计算得出此时的可视区mids
    ===》 调用 bymids 接口 拉取最新赔率
    ===》 bymids 接口 数据 调用 数据仓库 方法 拆解赔率玩法对象
    ===》 调用列表表征类 重新计算  bymids 的赛事 的表征
    ===》 更新列表表征
    ===》 更改赛事数据版本号
    ===》 驱动列表数据赔率显示
}
    分支流程：
    CASE 1:{
        ===》拉取当前菜单列表基础数据队列，也就是当前列表的元数据，（没有赔率）
        ===》更新元数据 ，更新当前菜单 和列表队列的对应关系 ， 此时因为列表已经显示过了  （星号 1）
        ===》调用流程块 A1
    }
     CASE 2:{
        ===》拉取当前菜单列表数据队列， （有赔率）
        ===》更新元数据 ，更新当前菜单  和列表队列的对应关系
        ===》调用 数据仓库 接口 数据 调用 数据仓库 方法 拆解赔率玩法对象 对应场景 （星号 1）
        ===》调用流程块 A1
    }




一般来说：顺序是 ： 流程块 A1 ==》CASE 1/ CASE 2

假设产品要求  CASE 1/ CASE 2  ==》 流程块 A1  ：
          仅仅需要在 元数据内对比当前菜单的 列表队列 ，确定采用哪个接口为准而已

假设产品要求  CASE 1/ CASE 2   和 流程块 A1  并行 一起触发 ：
          这时候本质上 雷同  CASE 1/ CASE 2  ==》 流程块 A1  
          仅仅需要在 元数据内对比当前菜单的 列表队列 ，确定采用哪个接口为准而已          




关于切换菜单：

 方案一： 数据仓库留存之前的数据 ：
         问题点：
            1.但是切换菜单后同赛事有一点点冲突， 但是因为 玩法拆分，赔率拆分，所以影响不大 ，具体情况具体对待
            2.所有菜单切换一遍，则数据仓库庞大====元数据内所有赛事整体数量
            3.很旧的过期数据，看起来问题比较明显

 方案一： 数据仓库不留存之前的数据 ：
         问题点：
            1.菜单之间快速切换 数据会消失 ：
               方案： 根据赛事信息版本号 ，定时去删除垃圾赔率数据，例如十分钟跑一次

        
