# 关于动画视频的新方案 
## 前置
   - 视频有多重对接视频源 
   - 视频那边运营商一般是通过 网页域名 refer 验签
## 方案    
  + 动画 和视频都需要提供 内外两个版本的播放页面
  + 视频相关
  + 内部用视频播放新页面:  需要代码混淆压缩打包 ，需要全部 postmassage 传递消息 ，并且不对外提供说明文档 ，完全自用
  + 外部用视频播放新页面:  需要先判定商户是否加白了视频播放页面的外面的父级页面的域名，然后再走旧的播放流程
  + 如果商户有单独打开播放器页面进行播放的需求 ，需要他们自己外面包一层页面，内部是我们专门给商户单独使用的播放页面
  + 动画需要自研实现绘制
  + 内部用动画播放新页面:  需要代码混淆压缩打包 ，需要全部 postmassage 传递消息 ，并且不对外提供说明文档 ，完全自用
  + 外部用动画播放新页面:  需要先判定商户是否加白了动画播放页面的外面的父级页面的域名，然后再走动画流程
  + 如果商户有单独打开动画页面 ，需要他们自己外面包一层页面，内部是我们专门给商户单独使用的动画页面
   
# 关于动画视频的自用页面
  - 混淆压缩代码，不对外提供文档
  - postmassage 传递必须参数 和控制，不然什么也播放不了  

# 关于动画视频的非自用页面

### 非自用页面必备条件：
  - 商户自用后台内需要 提供域名加白功能 ，可能很多
  - 调用SDK 需要传入 用户token 、可用API域名 
  - 业务提供验证 当前播放器域名是否加白，商户是否加白 

### 非自用页面流程 ：
   商户在商户自用后台设置加白的播放域名
   商户自己的播放页面调用我们的播放页面并且传参进来：token,mid ，api 等 
   我们页面调用后台接口确认是否加白过， 没加白就不播放

